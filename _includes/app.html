<script>
// app here
var OI = {
};

OI.init = function() {
    OI.progressHandler.charge();
};

OI.progressHandler = {
    charge_offset: 3
};

OI.progressHandler.updateBar = function(barid, value) {
    jQuery("#"+barid).attr('aria-valuenow', value);
    jQuery("#"+barid+" .number-progress").html(value);
    jQuery("#"+barid).css("width", value + "%");
};

OI.progressHandler.getValue = function (barid) {
    return parseInt(jQuery("#"+barid).attr('aria-valuenow'));
};

OI.progressHandler.charge = function() {
    console.log(OI.progressHandler.getValue("prog-bar"));
    if(OI.progressHandler.getValue("prog-bar") >= 100) {
        jQuery("#prog-bar").addClass("progress-bar-success");
        return;
    }
    OI.progressHandler.updateBar("prog-bar", OI.progressHandler.getValue("prog-bar") + OI.progressHandler.charge_offset);
    setTimeout(OI.progressHandler.charge, 75);
};

jQuery(document).ready(function () {
    OI.init();
});
</script>

<p id="app-loading-p">
<div class="progress progress-striped active">
  <div id="prog-bar" class="progress-bar"  role="progressbar" aria-valuenow="0" 
    aria-valuemin="0" aria-valuemax="100">
    <span><div class="number-progress">0</div>% Complete</span>
  </div>
</div>
</p>
